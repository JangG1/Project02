{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vShow as _vShow, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"storage-ts-container mb-5\"\n};\nconst _hoisted_2 = {\n  class: \"storage-ts-output-cont\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"float\": \"left\",\n    \"width\": \"20%\"\n  }\n}, [/*#__PURE__*/_createElementVNode(\"h2\", null, \"매체변환\")], -1\n/* HOISTED */\n);\n\nconst _hoisted_4 = {\n  style: {\n    \"float\": \"left\",\n    \"width\": \"75%\"\n  }\n};\nconst _hoisted_5 = {\n  style: {\n    \"float\": \"right\",\n    \"width\": \"5%\"\n  }\n};\nconst _hoisted_6 = {\n  class: \"storage-img-box\"\n};\nconst _hoisted_7 = {\n  class: \"img-fit\",\n  controls: \"\",\n  ref: \"player\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  style: {\n    \"display\": \"none\"\n  }\n};\nconst _hoisted_10 = {\n  class: \"img-fit\",\n  controls: \"\",\n  ref: \"player\"\n};\nconst _hoisted_11 = [\"src\"];\nconst _hoisted_12 = {\n  name: \"result\"\n};\nconst _hoisted_13 = [\"innerHTML\"];\nconst _hoisted_14 = {\n  style: {\n    \"display\": \"flex\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"h3\", null, _toDisplayString($props.trans_date), 1\n  /* TEXT */\n  )]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.remove())\n  }, \"삭제\")]), _createElementVNode(\"div\", _hoisted_6, [_withDirectives(_createElementVNode(\"video\", _hoisted_7, [_createElementVNode(\"source\", {\n    src: $props.input\n  }, null, 8\n  /* PROPS */\n  , _hoisted_8)], 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.showInput]]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"audio\", _hoisted_10, [_createElementVNode(\"source\", {\n    src: $props.input\n  }, null, 8\n  /* PROPS */\n  , _hoisted_11)], 512\n  /* NEED_PATCH */\n  )]), _withDirectives(_createElementVNode(\"output\", _hoisted_12, [_createElementVNode(\"div\", {\n    innerHTML: $options.content\n  }, null, 8\n  /* PROPS */\n  , _hoisted_13)], 512\n  /* NEED_PATCH */\n  ), [[_vShow, $data.showOutput]])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $options.changeShow()),\n    class: \"storage-ff1-btn mt-4\"\n  }, \" 텍스트 보기 \"), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = $event => $options.download()),\n    class: \"storage-ff2-btn mt-4\"\n  }, \" 다운로드 \")])]), _createCommentVNode(\"storage-ts-output-cont-end\")]), _createCommentVNode(\"storage-ts-container-end\")], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;AACOA,OAAK,EAAC;;;AACJA,OAAK,EAAC;;;gCACTC,oBAEM,KAFN,EAEM;AAFDC,OAA+B,EAA/B;AAAA;AAAA;AAAA;AAEC,CAFN,EAAoC,cAClCD,oBAAa,IAAb,EAAa,IAAb,EAAI,MAAJ,CADkC,CAApC;;AAAA;;;AAGKC,OAA+B,EAA/B;AAAA;AAAA;AAAA;;;AAGAA,OAA+B,EAA/B;AAAA;AAAA;AAAA;;;AAGAF,OAAK,EAAC;;;AACFA,OAAK,EAAC;AAAUG,UAAQ,EAAR;AAASC,KAAG,EAAC;;;;AAG/BF,OAAqB,EAArB;AAAA;AAAA;;;AACIF,OAAK,EAAC;AAAUG,UAAQ,EAAR;AAASC,KAAG,EAAC;;;;AAK9BC,MAAI,EAAC;;;;AAIVH,OAAqB,EAArB;AAAA;AAAA;;;6DAzBTD,oBAmCM,KAnCN,cAmCM,CAlCJA,oBAgCM,KAhCN,cAgCM,CA/BJK,UA+BI,EA5BJL,oBAEM,KAFN,cAEM,CADJA,oBAAyB,IAAzB,EAAyB,IAAzB,EAAyBM,iBAAlBC,iBAAkB,CAAzB,EAAiB;AAAA;AAAjB,GACI,CAFN,CA4BI,EAzBJP,oBAEM,KAFN,cAEM,CADJA,oBAAqC,QAArC,EAAqC;AAA5BQ,WAAK,sCAAEC,iBAAF;AAAuB,GAArC,EAA0B,IAA1B,CACI,CAFN,CAyBI,EAtBJT,oBAaM,KAbN,cAaM,iBAZJA,oBAEQ,OAFR,cAEQ,CADNA,oBAAuB,QAAvB,EAAuB;AAAdU,OAAG,EAAEH;AAAS,GAAvB,EAAmB,IAAnB,EAAmB;AAAA;AAAnB,IAAmBI,UAAnB,CACM,CAFR;;AAAA,eAAqDC,kBAYjD,EATJZ,oBAIM,KAJN,cAIM,CAHJA,oBAEQ,OAFR,eAEQ,CADNA,oBAAuB,QAAvB,EAAuB;AAAdU,OAAG,EAAEH;AAAS,GAAvB,EAAmB,IAAnB,EAAmB;AAAA;AAAnB,IAAmBM,WAAnB,CACM,CAFR;;AAAA,GAGI,CAJN,CASI,kBAHJb,oBAES,QAFT,eAES,CADPA,oBAA4B,KAA5B,EAA4B;AAAvBc,aAAgB,EAARL;AAAe,GAA5B,EAAoB,IAApB,EAAoB;AAAA;AAApB,IAAoBM,WAApB,CACO,CAFT;;AAAA,eAA8BH,mBAG1B,CAbN,CAsBI,EARJZ,oBAOM,KAPN,eAOM,CANJA,oBAES,QAFT,EAES;AAFAQ,WAAK,sCAAEC,qBAAF,CAEL;AAFqBV,SAAK,EAAC;AAE3B,GAFT,EAA2D,UAA3D,CAMI,EAHJC,oBAES,QAFT,EAES;AAFAQ,WAAK,sCAAEC,mBAAF,CAEL;AAFmBV,SAAK,EAAC;AAEzB,GAFT,EAAyD,QAAzD,CAGI,CAPN,CAQI,CAhCN,CAkCI,EADJiB,iDACI,CAnCN,GAoCAA","names":["class","_createElementVNode","style","controls","ref","name","_hoisted_3","_toDisplayString","$props","onClick","$options","src","_hoisted_8","$data","_hoisted_11","innerHTML","_hoisted_13","_createCommentVNode"],"sourceRoot":"","sources":["C:\\study_boot\\BCPR3\\front_vue2\\src\\components\\STTStorageCard.vue"],"sourcesContent":["<template>\n  <div class=\"storage-ts-container mb-5\">\n    <div class=\"storage-ts-output-cont\">\n      <div style=\"float: left; width: 20%\">\n        <h2>매체변환</h2>\n      </div>\n      <div style=\"float: left; width: 75%\">\n        <h3>{{ trans_date }}</h3>\n      </div>\n      <div style=\"float: right; width: 5%\">\n        <button @click=\"remove()\">삭제</button>\n      </div>\n      <div class=\"storage-img-box\">\n        <video class=\"img-fit\" controls ref=\"player\" v-show=\"showInput\">\n          <source :src=\"input\" />\n        </video>\n        <div style=\"display: none\">\n          <audio class=\"img-fit\" controls ref=\"player\">\n            <source :src=\"input\" />\n          </audio>\n        </div>\n\n        <output name=\"result\" v-show=\"showOutput\">\n          <div v-html=\"content\"></div>\n        </output>\n      </div>\n      <div style=\"display: flex\">\n        <button @click=\"changeShow()\" class=\"storage-ff1-btn mt-4\">\n          텍스트 보기\n        </button>\n        <button @click=\"download()\" class=\"storage-ff2-btn mt-4\">\n          다운로드\n        </button>\n      </div>\n    </div>\n    <!--storage-ts-output-cont-end-->\n  </div>\n  <!--storage-ts-container-end-->\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"STTStorageCard\",\n  props: {\n    document_no: Number,\n    email: String,\n    kind: String,\n    input: String,\n    output: String,\n    trans_date: String,\n  },\n  data() {\n    return {\n      showInput: true,\n      showOutput: false,\n    };\n  },\n  methods: {\n    changeShow() {\n      if (this.showInput) this.showInput = false;\n      else this.showInput = true;\n      if (this.showOutput) this.showOutput = false;\n      else this.showOutput = true;\n    },\n    async remove() {\n      let str = \"/api/Stt/remove\";\n      let form = new FormData();\n      form.append(\"email\", this.email);\n      form.append(\"document_no\", this.document_no);\n\n      await axios\n        .post(str, form)\n        .then((res) => {\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      this.$router.go(\"/storage\");\n    },\n    download() {\n      let str =\n        \"/api/Stt/download/\" + this.email + \"/\" + this.document_no + \"/\";\n      if (this.showInput) str += \"input\";\n      else str += \"output\";\n\n      axios\n        .get(str, {\n          responseType: \"blob\",\n        })\n        .then((res) => {\n          const name = res.headers[\"content-disposition\"]\n            .split(\"fileName=\")[1]\n            .replace(/\"/g, \"\");\n          const url = window.URL.createObjectURL(new Blob([res.data]));\n          const link = document.createElement(\"a\");\n          link.href = url;\n          link.setAttribute(\"download\", name); //or any other extension document.body.appendChild(link); link.click();\n          document.body.appendChild(link);\n          link.click();\n          link.remove();\n          console.log(res);\n          console.log(\"다운로드 성공\");\n        })\n        .catch((err) => {\n          err;\n          console.log(\"다운로드 실패\");\n        });\n    },\n  },\n  computed: {\n    content() {\n      return this.output.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n    },\n  },\n};\n</script>\n\n<style>\n.player {\n  width: 100%;\n}\n</style>"]},"metadata":{},"sourceType":"module"}