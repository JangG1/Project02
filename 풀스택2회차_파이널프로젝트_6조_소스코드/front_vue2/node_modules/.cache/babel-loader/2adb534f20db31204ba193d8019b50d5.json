{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"PapagoStorageCard\",\n  props: {\n    translation_no: Number,\n    email: String,\n    input: String,\n    output: String,\n    trans_date: String\n  },\n\n  data() {\n    return {};\n  },\n\n  methods: {\n    async remove() {\n      let str = \"/api/papago/remove\";\n      let form = new FormData();\n      form.append(\"email\", this.email);\n      form.append(\"translation_no\", this.translation_no);\n      await axios.post(str, form).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.$router.go(\"/storage\");\n    },\n\n    download(kind) {\n      console.log(this.translation_no + \", \" + this.email);\n      let str = \"/api/papago/download/\" + this.email + \"/\" + this.translation_no + \"/\" + kind;\n      axios.get(str, {\n        responseType: \"blob\"\n      }).then(res => {\n        const name = res.headers[\"content-disposition\"].split(\"fileName=\")[1].replace(/\"/g, \"\");\n        const url = window.URL.createObjectURL(new Blob([res.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", name); //or any other extension document.body.appendChild(link); link.click();\n\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n        console.log(res);\n        console.log(\"다운로드 성공\");\n      }).catch(err => {\n        err;\n        console.log(\"다운로드 실패\");\n      });\n    }\n\n  },\n  computed: {\n    source() {\n      return this.input.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n    },\n\n    result() {\n      return this.output.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;AACbC,MAAI,EAAE,mBADO;AAEbC,OAAK,EAAE;AACLC,kBAAc,EAAEC,MADX;AAELC,SAAK,EAAEC,MAFF;AAGLC,SAAK,EAAED,MAHF;AAILE,UAAM,EAAEF,MAJH;AAKLG,cAAU,EAAEH;AALP,GAFM;;AASbI,MAAI,GAAG;AACL,WAAO,EAAP;AACD,GAXY;;AAYbC,SAAO,EAAE;AACP,UAAMC,MAAN,GAAe;AACb,UAAIC,GAAE,GAAI,oBAAV;AACA,UAAIC,IAAG,GAAI,IAAIC,QAAJ,EAAX;AACAD,UAAI,CAACE,MAAL,CAAY,OAAZ,EAAqB,KAAKX,KAA1B;AACAS,UAAI,CAACE,MAAL,CAAY,gBAAZ,EAA8B,KAAKb,cAAnC;AAEA,YAAMH,KAAI,CACPiB,IADG,CACEJ,GADF,EACOC,IADP,EAEHI,IAFG,CAEGC,GAAD,IAAS;AACbC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAJG,EAKHG,KALG,CAKIC,GAAD,IAAS;AACdH,eAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,OAPG,CAAN;AAQA,WAAKC,OAAL,CAAaC,EAAb,CAAgB,UAAhB;AACD,KAhBM;;AAiBPC,YAAQ,CAACC,IAAD,EAAO;AACbP,aAAO,CAACC,GAAR,CAAY,KAAKlB,cAAL,GAAsB,IAAtB,GAA6B,KAAKE,KAA9C;AACA,UAAIQ,GAAE,GACJ,0BACA,KAAKR,KADL,GAEA,GAFA,GAGA,KAAKF,cAHL,GAIA,GAJA,GAKAwB,IANF;AAQA3B,WAAI,CACD4B,GADH,CACOf,GADP,EACY;AACRgB,oBAAY,EAAE;AADN,OADZ,EAIGX,IAJH,CAISC,GAAD,IAAS;AACb,cAAMlB,IAAG,GAAIkB,GAAG,CAACW,OAAJ,CAAY,qBAAZ,EACVC,KADU,CACJ,WADI,EACS,CADT,EAEVC,OAFU,CAEF,IAFE,EAEI,EAFJ,CAAb;AAGA,cAAMC,GAAE,GAAIC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAAClB,GAAG,CAACT,IAAL,CAAT,CAA3B,CAAZ;AACA,cAAM4B,IAAG,GAAIC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;AACAF,YAAI,CAACG,IAAL,GAAYR,GAAZ;AAEAK,YAAI,CAACI,YAAL,CAAkB,UAAlB,EAA8BzC,IAA9B,EARa,CAQwB;;AAErCsC,gBAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,IAA1B;AACAA,YAAI,CAACO,KAAL;AACAP,YAAI,CAAC1B,MAAL;AACAQ,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,eAAO,CAACC,GAAR,CAAY,SAAZ;AACD,OAnBH,EAoBGC,KApBH,CAoBUC,GAAD,IAAS;AACdA,WAAG;AACHH,eAAO,CAACC,GAAR,CAAY,SAAZ;AACD,OAvBH;AAwBD;;AAnDM,GAZI;AAiEbyB,UAAQ,EAAE;AACRC,UAAM,GAAG;AACP,aAAO,KAAKxC,KAAL,CAAWyB,OAAX,CAAmB,iBAAnB,EAAsC,QAAtC,CAAP;AACD,KAHO;;AAIRgB,UAAM,GAAG;AACP,aAAO,KAAKxC,MAAL,CAAYwB,OAAZ,CAAoB,iBAApB,EAAuC,QAAvC,CAAP;AACD;;AANO;AAjEG,CAAf","names":["axios","name","props","translation_no","Number","email","String","input","output","trans_date","data","methods","remove","str","form","FormData","append","post","then","res","console","log","catch","err","$router","go","download","kind","get","responseType","headers","split","replace","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","computed","source","result"],"sourceRoot":"","sources":["C:\\study_boot\\BCPR3\\front_vue2\\src\\components\\PapagoStorageCard.vue"],"sourcesContent":["<template>\n  <div class=\"storage-ts-container col mb-5\">\n    <div class=\"storage-ts-output-cont\">\n      <div style=\"float: left; width: 20%\">\n        <h2>간단번역</h2>\n      </div>\n      <div style=\"float: left; width: 75%\">\n        <h3>{{ trans_date }}</h3>\n      </div>\n      <div style=\"float: right; width: 5%\">\n        <button @click=\"remove()\">삭제</button>\n      </div>\n      <div class=\"storage-img-box\">\n        <output name=\"result\">\n          <div v-html=\"source\"></div>\n        </output>\n      </div>\n      <div class=\"storage-img-box\">\n        <output name=\"result\">\n          <div v-html=\"result\"></div>\n        </output>\n      </div>\n      <div style=\"display: flex\">\n        <button @click=\"download('input')\" class=\"storage-ff1-btn mt-4\">\n          원문 다운로드\n        </button>\n        <button @click=\"download('output')\" class=\"storage-ff2-btn mt-4\">\n          번역문 다운로드\n        </button>\n      </div>\n    </div>\n    <!--storage-ts-output-cont-end-->\n  </div>\n  <!--storage-ts-container-end-->\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"PapagoStorageCard\",\n  props: {\n    translation_no: Number,\n    email: String,\n    input: String,\n    output: String,\n    trans_date: String,\n  },\n  data() {\n    return {};\n  },\n  methods: {\n    async remove() {\n      let str = \"/api/papago/remove\";\n      let form = new FormData();\n      form.append(\"email\", this.email);\n      form.append(\"translation_no\", this.translation_no);\n\n      await axios\n        .post(str, form)\n        .then((res) => {\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      this.$router.go(\"/storage\");\n    },\n    download(kind) {\n      console.log(this.translation_no + \", \" + this.email);\n      let str =\n        \"/api/papago/download/\" +\n        this.email +\n        \"/\" +\n        this.translation_no +\n        \"/\" +\n        kind;\n\n      axios\n        .get(str, {\n          responseType: \"blob\",\n        })\n        .then((res) => {\n          const name = res.headers[\"content-disposition\"]\n            .split(\"fileName=\")[1]\n            .replace(/\"/g, \"\");\n          const url = window.URL.createObjectURL(new Blob([res.data]));\n          const link = document.createElement(\"a\");\n          link.href = url;\n\n          link.setAttribute(\"download\", name); //or any other extension document.body.appendChild(link); link.click();\n\n          document.body.appendChild(link);\n          link.click();\n          link.remove();\n          console.log(res);\n          console.log(\"다운로드 성공\");\n        })\n        .catch((err) => {\n          err;\n          console.log(\"다운로드 실패\");\n        });\n    },\n  },\n  computed: {\n    source() {\n      return this.input.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n    },\n    result() {\n      return this.output.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n    },\n  },\n};\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module"}