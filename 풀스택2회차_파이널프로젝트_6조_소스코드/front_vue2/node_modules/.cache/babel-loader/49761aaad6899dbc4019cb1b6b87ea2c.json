{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"STTStorageCard\",\n  props: {\n    document_no: Number,\n    email: String,\n    kind: String,\n    input: String,\n    output: String,\n    trans_date: String\n  },\n\n  data() {\n    return {\n      showInput: true,\n      showOutput: false\n    };\n  },\n\n  methods: {\n    changeShow() {\n      if (this.showInput) this.showInput = false;else this.showInput = true;\n      if (this.showOutput) this.showOutput = false;else this.showOutput = true;\n    },\n\n    async remove() {\n      let str = \"/api/Stt/remove\";\n      let form = new FormData();\n      form.append(\"email\", this.email);\n      form.append(\"document_no\", this.document_no);\n      await axios.post(str, form).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.$router.go(\"/storage\");\n    },\n\n    download() {\n      let str = \"/api/Stt/download/\" + this.email + \"/\" + this.document_no + \"/\";\n      if (this.showInput) str += \"input\";else str += \"output\";\n      axios.get(str, {\n        responseType: \"blob\"\n      }).then(res => {\n        const name = res.headers[\"content-disposition\"].split(\"fileName=\")[1].replace(/\"/g, \"\");\n        const url = window.URL.createObjectURL(new Blob([res.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", name); //or any other extension document.body.appendChild(link); link.click();\n\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n        console.log(res);\n        console.log(\"다운로드 성공\");\n      }).catch(err => {\n        err;\n        console.log(\"다운로드 실패\");\n      });\n    }\n\n  },\n  computed: {\n    content() {\n      return this.output.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;AACbC,MAAI,EAAE,gBADO;AAEbC,OAAK,EAAE;AACLC,eAAW,EAAEC,MADR;AAELC,SAAK,EAAEC,MAFF;AAGLC,QAAI,EAAED,MAHD;AAILE,SAAK,EAAEF,MAJF;AAKLG,UAAM,EAAEH,MALH;AAMLI,cAAU,EAAEJ;AANP,GAFM;;AAUbK,MAAI,GAAG;AACL,WAAO;AACLC,eAAS,EAAE,IADN;AAELC,gBAAU,EAAE;AAFP,KAAP;AAID,GAfY;;AAgBbC,SAAO,EAAE;AACPC,cAAU,GAAG;AACX,UAAI,KAAKH,SAAT,EAAoB,KAAKA,SAAL,GAAiB,KAAjB,CAApB,KACK,KAAKA,SAAL,GAAiB,IAAjB;AACL,UAAI,KAAKC,UAAT,EAAqB,KAAKA,UAAL,GAAkB,KAAlB,CAArB,KACK,KAAKA,UAAL,GAAkB,IAAlB;AACN,KANM;;AAOP,UAAMG,MAAN,GAAe;AACb,UAAIC,GAAE,GAAI,iBAAV;AACA,UAAIC,IAAG,GAAI,IAAIC,QAAJ,EAAX;AACAD,UAAI,CAACE,MAAL,CAAY,OAAZ,EAAqB,KAAKf,KAA1B;AACAa,UAAI,CAACE,MAAL,CAAY,aAAZ,EAA2B,KAAKjB,WAAhC;AAEA,YAAMH,KAAI,CACPqB,IADG,CACEJ,GADF,EACOC,IADP,EAEHI,IAFG,CAEGC,GAAD,IAAS;AACbC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAJG,EAKHG,KALG,CAKIC,GAAD,IAAS;AACdH,eAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,OAPG,CAAN;AAQA,WAAKC,OAAL,CAAaC,EAAb,CAAgB,UAAhB;AACD,KAtBM;;AAuBPC,YAAQ,GAAG;AACT,UAAIb,GAAE,GACJ,uBAAuB,KAAKZ,KAA5B,GAAoC,GAApC,GAA0C,KAAKF,WAA/C,GAA6D,GAD/D;AAEA,UAAI,KAAKS,SAAT,EAAoBK,GAAE,IAAK,OAAP,CAApB,KACKA,GAAE,IAAK,QAAP;AAELjB,WAAI,CACD+B,GADH,CACOd,GADP,EACY;AACRe,oBAAY,EAAE;AADN,OADZ,EAIGV,IAJH,CAISC,GAAD,IAAS;AACb,cAAMtB,IAAG,GAAIsB,GAAG,CAACU,OAAJ,CAAY,qBAAZ,EACVC,KADU,CACJ,WADI,EACS,CADT,EAEVC,OAFU,CAEF,IAFE,EAEI,EAFJ,CAAb;AAGA,cAAMC,GAAE,GAAIC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAACjB,GAAG,CAACZ,IAAL,CAAT,CAA3B,CAAZ;AACA,cAAM8B,IAAG,GAAIC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;AACAF,YAAI,CAACG,IAAL,GAAYR,GAAZ;AACAK,YAAI,CAACI,YAAL,CAAkB,UAAlB,EAA8B5C,IAA9B,EAPa,CAOwB;;AACrCyC,gBAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,IAA1B;AACAA,YAAI,CAACO,KAAL;AACAP,YAAI,CAACzB,MAAL;AACAQ,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,eAAO,CAACC,GAAR,CAAY,SAAZ;AACD,OAjBH,EAkBGC,KAlBH,CAkBUC,GAAD,IAAS;AACdA,WAAG;AACHH,eAAO,CAACC,GAAR,CAAY,SAAZ;AACD,OArBH;AAsBD;;AAnDM,GAhBI;AAqEbwB,UAAQ,EAAE;AACRC,WAAO,GAAG;AACR,aAAO,KAAKzC,MAAL,CAAY0B,OAAZ,CAAoB,iBAApB,EAAuC,QAAvC,CAAP;AACD;;AAHO;AArEG,CAAf","names":["axios","name","props","document_no","Number","email","String","kind","input","output","trans_date","data","showInput","showOutput","methods","changeShow","remove","str","form","FormData","append","post","then","res","console","log","catch","err","$router","go","download","get","responseType","headers","split","replace","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","computed","content"],"sourceRoot":"","sources":["C:\\study_boot\\BCPR3\\front_vue2\\src\\components\\STTStorageCard.vue"],"sourcesContent":["<template>\n  <div class=\"storage-ts-container col mb-5\">\n    <div class=\"storage-ts-output-cont\">\n      <div style=\"float: left; width: 20%\">\n        <h2>매체변환</h2>\n      </div>\n      <div style=\"float: left; width: 75%\">\n        <h3>{{ trans_date }}</h3>\n      </div>\n      <div style=\"float: right; width: 5%\">\n        <button @click=\"remove()\">삭제</button>\n      </div>\n      <div class=\"storage-img-box\">\n        <video class=\"img-fit\" controls ref=\"player\" v-show=\"showInput\">\n          <source :src=\"input\" />\n        </video>\n        <div style=\"display: none\">\n          <audio class=\"img-fit\" controls ref=\"player\">\n            <source :src=\"input\" />\n          </audio>\n        </div>\n\n        <output name=\"result\" v-show=\"showOutput\">\n          <div v-html=\"content\"></div>\n        </output>\n      </div>\n      <div style=\"display: flex\">\n        <button @click=\"changeShow()\" class=\"storage-ff1-btn mt-4\">\n          텍스트 보기\n        </button>\n        <button @click=\"download()\" class=\"storage-ff2-btn mt-4\">\n          다운로드\n        </button>\n      </div>\n    </div>\n    <!--storage-ts-output-cont-end-->\n  </div>\n  <!--storage-ts-container-end-->\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"STTStorageCard\",\n  props: {\n    document_no: Number,\n    email: String,\n    kind: String,\n    input: String,\n    output: String,\n    trans_date: String,\n  },\n  data() {\n    return {\n      showInput: true,\n      showOutput: false,\n    };\n  },\n  methods: {\n    changeShow() {\n      if (this.showInput) this.showInput = false;\n      else this.showInput = true;\n      if (this.showOutput) this.showOutput = false;\n      else this.showOutput = true;\n    },\n    async remove() {\n      let str = \"/api/Stt/remove\";\n      let form = new FormData();\n      form.append(\"email\", this.email);\n      form.append(\"document_no\", this.document_no);\n\n      await axios\n        .post(str, form)\n        .then((res) => {\n          console.log(res);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n      this.$router.go(\"/storage\");\n    },\n    download() {\n      let str =\n        \"/api/Stt/download/\" + this.email + \"/\" + this.document_no + \"/\";\n      if (this.showInput) str += \"input\";\n      else str += \"output\";\n\n      axios\n        .get(str, {\n          responseType: \"blob\",\n        })\n        .then((res) => {\n          const name = res.headers[\"content-disposition\"]\n            .split(\"fileName=\")[1]\n            .replace(/\"/g, \"\");\n          const url = window.URL.createObjectURL(new Blob([res.data]));\n          const link = document.createElement(\"a\");\n          link.href = url;\n          link.setAttribute(\"download\", name); //or any other extension document.body.appendChild(link); link.click();\n          document.body.appendChild(link);\n          link.click();\n          link.remove();\n          console.log(res);\n          console.log(\"다운로드 성공\");\n        })\n        .catch((err) => {\n          err;\n          console.log(\"다운로드 실패\");\n        });\n    },\n  },\n  computed: {\n    content() {\n      return this.output.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n    },\n  },\n};\n</script>\n\n<style>\n.player {\n  width: 100%;\n}\n</style>"]},"metadata":{},"sourceType":"module"}