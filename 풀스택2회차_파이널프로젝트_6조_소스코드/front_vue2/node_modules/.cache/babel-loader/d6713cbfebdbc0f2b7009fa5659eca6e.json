{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  name: \"PapagoStorageCard\",\n  props: {\n    translation_no: Number,\n    email: String,\n    input: String,\n    output: String,\n    trans_date: String\n  },\n\n  data() {\n    return {};\n  },\n\n  methods: {\n    async remove() {\n      let str = \"/api/papago/remove\";\n      let form = new FormData();\n      form.append(\"email\", this.email);\n      form.append(\"translation_no\", this.translation_no);\n      await axios.post(str, form).then(res => {\n        console.log(res);\n      }).catch(err => {\n        console.log(err);\n      });\n      this.$router.go(\"/storage\");\n    },\n\n    download(kind) {\n      console.log(this.translation_no + \", \" + this.email);\n      let str = \"/api/papago/download/\" + this.email + \"/\" + this.translation_no + \"/\" + kind;\n      axios.get(str, {\n        responseType: \"blob\"\n      }).then(res => {\n        const name = res.headers[\"content-disposition\"].split(\"fileName=\")[1].replace(/\"/g, \"\");\n        const url = window.URL.createObjectURL(new Blob([res.data]));\n        const link = document.createElement(\"a\");\n        link.href = url;\n        link.setAttribute(\"download\", name); //or any other extension document.body.appendChild(link); link.click();\n\n        document.body.appendChild(link);\n        link.click();\n        link.remove();\n        console.log(res);\n        console.log(\"다운로드 성공\");\n      }).catch(err => {\n        err;\n        console.log(\"다운로드 실패\");\n      });\n    }\n\n  },\n  computed: {\n    source() {\n      return this.input.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n    },\n\n    result() {\n      return this.output.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyCA,OAAOA,KAAP,MAAkB,OAAlB;AACA,eAAe;AACbC,MAAI,EAAE,mBADO;AAEbC,OAAK,EAAE;AACLC,kBAAc,EAAEC,MADX;AAELC,SAAK,EAAEC,MAFF;AAGLC,SAAK,EAAED,MAHF;AAILE,UAAM,EAAEF,MAJH;AAKLG,cAAU,EAAEH;AALP,GAFM;;AASbI,MAAI,GAAG;AACL,WAAO,EAAP;AACD,GAXY;;AAYbC,SAAO,EAAE;AACP,UAAMC,MAAN,GAAe;AACb,UAAIC,GAAE,GAAI,oBAAV;AACA,UAAIC,IAAG,GAAI,IAAIC,QAAJ,EAAX;AACAD,UAAI,CAACE,MAAL,CAAY,OAAZ,EAAqB,KAAKX,KAA1B;AACAS,UAAI,CAACE,MAAL,CAAY,gBAAZ,EAA8B,KAAKb,cAAnC;AAEA,YAAMH,KAAI,CACPiB,IADG,CACEJ,GADF,EACOC,IADP,EAEHI,IAFG,CAEGC,GAAD,IAAS;AACbC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAJG,EAKHG,KALG,CAKIC,GAAD,IAAS;AACdH,eAAO,CAACC,GAAR,CAAYE,GAAZ;AACD,OAPG,CAAN;AAQA,WAAKC,OAAL,CAAaC,EAAb,CAAgB,UAAhB;AACD,KAhBM;;AAiBPC,YAAQ,CAACC,IAAD,EAAO;AACbP,aAAO,CAACC,GAAR,CAAY,KAAKlB,cAAL,GAAsB,IAAtB,GAA6B,KAAKE,KAA9C;AACA,UAAIQ,GAAE,GACJ,0BACA,KAAKR,KADL,GAEA,GAFA,GAGA,KAAKF,cAHL,GAIA,GAJA,GAKAwB,IANF;AAQA3B,WAAI,CACD4B,GADH,CACOf,GADP,EACY;AACRgB,oBAAY,EAAE;AADN,OADZ,EAIGX,IAJH,CAISC,GAAD,IAAS;AACb,cAAMlB,IAAG,GAAIkB,GAAG,CAACW,OAAJ,CAAY,qBAAZ,EACVC,KADU,CACJ,WADI,EACS,CADT,EAEVC,OAFU,CAEF,IAFE,EAEI,EAFJ,CAAb;AAGA,cAAMC,GAAE,GAAIC,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAAClB,GAAG,CAACT,IAAL,CAAT,CAA3B,CAAZ;AACA,cAAM4B,IAAG,GAAIC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;AACAF,YAAI,CAACG,IAAL,GAAYR,GAAZ;AAEAK,YAAI,CAACI,YAAL,CAAkB,UAAlB,EAA8BzC,IAA9B,EARa,CAQwB;;AAErCsC,gBAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,IAA1B;AACAA,YAAI,CAACO,KAAL;AACAP,YAAI,CAAC1B,MAAL;AACAQ,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACAC,eAAO,CAACC,GAAR,CAAY,SAAZ;AACD,OAnBH,EAoBGC,KApBH,CAoBUC,GAAD,IAAS;AACdA,WAAG;AACHH,eAAO,CAACC,GAAR,CAAY,SAAZ;AACD,OAvBH;AAwBD;;AAnDM,GAZI;AAiEbyB,UAAQ,EAAE;AACRC,UAAM,GAAG;AACP,aAAO,KAAKxC,KAAL,CAAWyB,OAAX,CAAmB,iBAAnB,EAAsC,QAAtC,CAAP;AACD,KAHO;;AAIRgB,UAAM,GAAG;AACP,aAAO,KAAKxC,MAAL,CAAYwB,OAAZ,CAAoB,iBAApB,EAAuC,QAAvC,CAAP;AACD;;AANO;AAjEG,CAAf","names":["axios","name","props","translation_no","Number","email","String","input","output","trans_date","data","methods","remove","str","form","FormData","append","post","then","res","console","log","catch","err","$router","go","download","kind","get","responseType","headers","split","replace","url","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","computed","source","result"],"sourceRoot":"","sources":["C:\\study_boot\\BCPR3\\front_vue2\\src\\components\\PapagoStorageCard.vue"],"sourcesContent":["<template>\r\n  <div class=\"storage-ts-container col mb-5\">\r\n    <div class=\"storage-ts-output-cont\">\r\n      <div style=\"display: flex; justify-content: space-between;\">\r\n        <div style=\"display: flex;\">\r\n          <div style=\"margin-right: 1rem;\">\r\n            <h4>간단번역</h4>\r\n          </div>\r\n          <div>\r\n            <h4>{{ trans_date }}</h4>\r\n          </div>\r\n        </div>\r\n        <div class=\"remove-btn\">\r\n          <button @click=\"remove()\">삭제</button>\r\n        </div>\r\n      </div><!--여기까지 복사해서 붙여넣기-->\r\n      <div class=\"storage-img-box\">\r\n        <output name=\"result\">\r\n          <div v-html=\"source\"></div>\r\n        </output>\r\n      </div>\r\n      <div class=\"storage-img-box\">\r\n        <output name=\"result\">\r\n          <div v-html=\"result\"></div>\r\n        </output>\r\n      </div>\r\n      <div style=\"display: flex\">\r\n        <button @click=\"download('input')\" class=\"storage-ff1-btn mt-4\">\r\n          원문 다운로드\r\n        </button>\r\n        <button @click=\"download('output')\" class=\"storage-ff2-btn mt-4\">\r\n          번역문 다운로드\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <!--storage-ts-output-cont-end-->\r\n  </div>\r\n  <!--storage-ts-container-end-->\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"PapagoStorageCard\",\r\n  props: {\r\n    translation_no: Number,\r\n    email: String,\r\n    input: String,\r\n    output: String,\r\n    trans_date: String,\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    async remove() {\r\n      let str = \"/api/papago/remove\";\r\n      let form = new FormData();\r\n      form.append(\"email\", this.email);\r\n      form.append(\"translation_no\", this.translation_no);\r\n\r\n      await axios\r\n        .post(str, form)\r\n        .then((res) => {\r\n          console.log(res);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n      this.$router.go(\"/storage\");\r\n    },\r\n    download(kind) {\r\n      console.log(this.translation_no + \", \" + this.email);\r\n      let str =\r\n        \"/api/papago/download/\" +\r\n        this.email +\r\n        \"/\" +\r\n        this.translation_no +\r\n        \"/\" +\r\n        kind;\r\n\r\n      axios\r\n        .get(str, {\r\n          responseType: \"blob\",\r\n        })\r\n        .then((res) => {\r\n          const name = res.headers[\"content-disposition\"]\r\n            .split(\"fileName=\")[1]\r\n            .replace(/\"/g, \"\");\r\n          const url = window.URL.createObjectURL(new Blob([res.data]));\r\n          const link = document.createElement(\"a\");\r\n          link.href = url;\r\n\r\n          link.setAttribute(\"download\", name); //or any other extension document.body.appendChild(link); link.click();\r\n\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          link.remove();\r\n          console.log(res);\r\n          console.log(\"다운로드 성공\");\r\n        })\r\n        .catch((err) => {\r\n          err;\r\n          console.log(\"다운로드 실패\");\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    source() {\r\n      return this.input.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\r\n    },\r\n    result() {\r\n      return this.output.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br />\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]},"metadata":{},"sourceType":"module"}